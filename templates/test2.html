<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div id="reader" style="width: 300px;"></div>

    <script src="https://unpkg.com/html5-qrcode"></script>
<script>
    
function onScanSuccess(decodedText, decodedResult) {
  console.log("QR 코드 내용:", decodedText);
  // 예: "https://yourdomain.com/localact_qr?act=Draw&code=1234&user_id=abc"
  fetch(decodedText)
    .then(res => res.text())
    .then(data => {
      alert("✅ 인증 완료됨!");
      console.log("서버 응답:", data);
    });
}

const qrScanner = new Html5Qrcode("reader");
qrScanner.start(
  { facingMode: "environment" }, // 후면 카메라
  { fps: 10, qrbox: 250 },
  onScanSuccess
);
</script>
</body>
</html>